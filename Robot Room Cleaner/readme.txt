method1:

I use dfs to traverse all the node.
But we don't need to build a tree to do dfs, we can just use recursion function to do dfs. 
